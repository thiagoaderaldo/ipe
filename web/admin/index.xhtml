<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <ui:composition template="/ipe-template.xhtml">
        <ui:define name="title">
            <h:outputText value="Benvindo."></h:outputText>
        </ui:define>
        <ui:define name="header-body">
            <h:outputText value="Painel de Controle"></h:outputText>
        </ui:define>
        <ui:define name="body">
            <h:form id="formDashboard">                
                <p:growl id="growl"  showDetail="true" sticky="true"/> 
                <h:form styleClass="jsfcrud_list_form">
                    <h:panelGroup id="messagePanel" layout="block">
                        <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
                    </h:panelGroup>
                    <h:outputText escape="false" value="#{bundle.ListVwDshbrdIndicEmpty}" rendered="#{vwDshbrdIndicController.items.rowCount == 0}"/>
                    <h:panelGroup rendered="#{vwDshbrdIndicController.items.rowCount > 0}">
                        <h:outputText value="#{vwDshbrdIndicController.pagination.pageFirstItem + 1}..#{vwDshbrdIndicController.pagination.pageLastItem + 1}/#{vwDshbrdIndicController.pagination.itemsCount}"/>&nbsp;
                        <h:commandLink action="#{vwDshbrdIndicController.previous}" value="#{bundle.Previous} #{vwDshbrdIndicController.pagination.pageSize}" rendered="#{vwDshbrdIndicController.pagination.hasPreviousPage}"/>&nbsp;
                        <h:commandLink action="#{vwDshbrdIndicController.next}" value="#{bundle.Next} #{vwDshbrdIndicController.pagination.pageSize}" rendered="#{vwDshbrdIndicController.pagination.hasNextPage}"/>&nbsp;
                        <h:dataTable value="#{vwDshbrdIndicController.items}" var="item" border="0" cellpadding="2" cellspacing="0" rowClasses="jsfcrud_odd_row,jsfcrud_even_row" rules="all" style="border:solid 1px">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListVwDshbrdIndicTitle_qtdAtdSemEquipe}"/>
                                </f:facet>

                                <div class="row">
                                    <div class="col-lg-2 col-xs-6">
                                        <!-- small box -->
                                        <div class="small-box bg-red">
                                            <div class="inner">
                                                <h3>
                                                    <h:outputText value="#{item.qtdAtdSemEquipe}"/>
                                                </h3>
                                                <p>
                                                    Ocorrências sem equipes.
                                                </p>
                                            </div>
                                            <a href="#" class="small-box-footer">
                                                Mais informações... <i class="fa fa-arrow-circle-right"></i>
                                            </a>
                                        </div>
                                    </div><!-- ./col -->
                                </div>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListVwDshbrdIndicTitle_qtdDeOcrrAbertas}"/>
                                </f:facet>
                                <h:outputText value="#{item.qtdDeOcrrAbertas}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListVwDshbrdIndicTitle_idTipologia}"/>
                                </f:facet>
                                <h:outputText value="#{item.idTipologia}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListVwDshbrdIndicTitle_nome}"/>
                                </f:facet>
                                <h:outputText value="#{item.nome}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListVwDshbrdIndicTitle_qtdTplMaiorOcrr}"/>
                                </f:facet>
                                <h:outputText value="#{item.qtdTplMaiorOcrr}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="&nbsp;"/>
                                </f:facet>
                                <h:commandLink action="#{vwDshbrdIndicController.prepareView}" value="#{bundle.ListVwDshbrdIndicViewLink}"/>
                                <h:outputText value=" "/>
                                <h:commandLink action="#{vwDshbrdIndicController.prepareEdit}" value="#{bundle.ListVwDshbrdIndicEditLink}"/>
                                <h:outputText value=" "/>
                                <h:commandLink action="#{vwDshbrdIndicController.destroy}" value="#{bundle.ListVwDshbrdIndicDestroyLink}"/>
                            </h:column>
                        </h:dataTable>
                    </h:panelGroup>
                    <br />
                    <h:commandLink action="#{vwDshbrdIndicController.prepareCreate}" value="#{bundle.ListVwDshbrdIndicCreateLink}"/>
                    <br />
                    <br />
                    <h:link outcome="/index" value="#{bundle.ListVwDshbrdIndicIndexLink}"/>
                </h:form>
                <div class="row">
                    <div class="col-lg-2 col-xs-6">
                        <!-- small box -->
                        <div class="small-box bg-red">
                            <div class="inner">
                                <h3>
                                    33
                                </h3>
                                <p>
                                    Ocorrências sem equipes.
                                </p>
                            </div>
                            <a href="#" class="small-box-footer">
                                Mais informações... <i class="fa fa-arrow-circle-right"></i>
                            </a>
                        </div>
                    </div><!-- ./col -->
                    <div class="col-lg-2 col-xs-6">
                        <!-- small box -->
                        <div class="small-box bg-green">
                            <div class="inner">
                                <h3>
                                    20<sup style="font-size: 20px"></sup>
                                </h3>
                                <p>
                                    Ocorrências abertas hoje.
                                </p>
                            </div>
                            <a href="#" class="small-box-footer">
                                Mais informações... <i class="fa fa-arrow-circle-right"></i>
                            </a>
                        </div>
                    </div><!-- ./col -->
                    <div class="col-lg-2 col-xs-6">
                        <!-- small box -->
                        <div class="small-box bg-light-blue">
                            <div class="inner">
                                <h3>
                                    7
                                </h3>
                                <p>
                                    Ocorrências na Regional 6.
                                </p>
                            </div>
                            <a href="#" class="small-box-footer">
                                Mais informações... <i class="fa fa-arrow-circle-right"></i>
                            </a>
                        </div>
                    </div><!-- ./col -->                    
                    <div class="col-lg-2 col-xs-6">
                        <!-- small box -->
                        <div class="small-box bg-aqua">
                            <div class="inner">
                                <h3>
                                    5
                                </h3>
                                <p>
                                    Riscos de desabamento.
                                </p>
                            </div>
                            <a href="#" class="small-box-footer">
                                Mais informações... <i class="fa fa-arrow-circle-right"></i>
                            </a>
                        </div>
                    </div><!-- ./col -->                    
                    <div class="col-lg-2 col-xs-6">
                        <!-- small box -->
                        <div class="small-box bg-yellow">
                            <div class="inner">
                                <h3>
                                    4
                                </h3>
                                <p>
                                    Alagamentos.
                                </p>
                            </div>
                            <a href="#" class="small-box-footer">
                                Mais informações... <i class="fa fa-arrow-circle-right"></i>
                            </a>
                        </div>
                    </div><!-- ./col -->                    
                </div>

                <p:dashboard id="board" style="min-height: 1000px" model="#{dashboardBean.model}">  
                    <p:ajax event="reorder" listener="#{dashboardBean.handleReorder}" update="growl" />  
                    <p:panel id="noticias" 
                             header="Notícias" 
                             toggleable="true" 
                             toggleTitle="Recolher painel de notícias."
                             styleClass="ui-panel-success"
                             >  
                        <p style="text-align: justify;">
                            <table align="center" width="400px">
                                <tr>
                                    <td align="center">
                                        <img width="190px" 
                                             height="100px" 
                                             alt="Iguana" 
                                             src="/ipe/resources/images/ipe-300x199.png"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center"><h2>Versão 0.1.2 - 30/04/2014</h2></td>

                                </tr>

                                <tr>
                                    <td>
                                        <p><b style="color: red; font-size: small">NOVIDADES DA VERSÃO 0.1.2 - 30/04/2014: </b></p>
                                        <ul>
                                            <li style="font-size: small;padding-top: 5px">Modificações na tela de cadastro, conforme solicitado.</li>
                                            <li style="font-size: small;padding-top: 5px">A tabela com os atendimentos cadastrados estão agora com um belo design. É possível acessar na página <b>Cadastrar > Atendimento > Exibir todas as ocorrências cadastradas.</b></li>
                                        </ul>
                                    </td>
                                </tr>                         
                                <tr>
                                    <td>
                                        <p><b style="color: green; font-size: small">NOVIDADES DA VERSÃO 0.1.1 - 23/04/2014: </b></p>
                                        <ul>
                                            <li style="font-size: small;padding-top: 5px">Criação do sistema com os requisitos levantados.</li>
                                        </ul>
                                    </td>
                                </tr>                         
                            </table>
                        </p>  
                    </p:panel>  
                    <p:panel id="gmapsearch"  
                             header="Google Maps" 
                             toggleable="true" 
                             toggleTitle="Recolher painel de resumo das atividades."
                             styleClass="ui-panel-warning"
                             >
                        <script type="text/javascript">
                            function geocode() {                                
                                PF('geoGmap').geocode(document.getElementById('formDashboard:address').value);                
                            }
 
                            function reverseGeocode() {
                                var lat = document.getElementById('lat').value,
                                lng = document.getElementById('lng').value;
 
                                PF('revGeoMap').reverseGeocode(lat, lng);
                            }
                        </script>


                        <h:form prependId="false">
                            <h:panelGrid columns="3">
                                <p:outputLabel for="address" value="Digite o endereço:" />

                                <p:inputText id="address" />

                                <p:commandButton value="Pesquisar" 
                                                 icon="ui-icon-search" 
                                                 onclick="geocode()" 
                                                 type="button" 
                                                 style="height: 40px"
                                                 />
                            </h:panelGrid>
                            <br/>
                            <p:gmap id="geoGmap" 
                                    widgetVar="geoGmap"
                                    center="#{geocodeView.centerGeoMap}"
                                    model="#{geocodeView.geoModel}"
                                    zoom="11" 
                                    type="ROADMAP"  
                                    style="width:580px;height:400px" 
                                    streetView="true"
                                    >
                                <p:ajax event="geocode" listener="#{geocodeView.onGeocode}" update="@this" />
                            </p:gmap>
                        </h:form>

                    </p:panel>
                    <p:panel id="dados"
                             header="Dados do sistema"
                             styleClass="ui-panel-primary"
                             toggleable="true">
                        <h:outputText value="adogiaodghoadihfgoiahdfoghaodifhgadhfgoiahdfgo"/>
                    </p:panel>
                    <p:panel id="riscos"
                             header="Riscos"
                             styleClass="ui-panel-danger"
                             toggleable="true">
                        <h:outputText value="adogiaodghoadihfgoiahdfoghaodifhgadhfgoiahdfgo"/>
                    </p:panel>

                </p:dashboard>  


            </h:form>  

        </ui:define>
    </ui:composition>







</html>

